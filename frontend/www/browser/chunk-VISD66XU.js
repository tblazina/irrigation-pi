import{a as T}from"./chunk-FNLJE7QV.js";import{b as o,c as f,d as h,f as c,g as l,h as w,k as S,n as $}from"./chunk-XX3QOINY.js";import{a as g,b as m,e as a}from"./chunk-PG5KTQWO.js";var A=(()=>{let r=class r{capFirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}transform(t){return this.capFirst(t.replace(/_/g," "))}};a(r,"\u0275fac",function(e){return new(e||r)}),a(r,"\u0275pipe",S({name:"displayString",type:r,pure:!0,standalone:!0}));let n=r;return n})();var d="/v1/schedule",R=(()=>{let r=class r extends T{getSchedule(t){return this.getAppConfig().pipe(c(e=>{let s=new URL(`${e.api.host}${d}/${t}`);return this.httpClient.get(s.toString()).pipe(f(i=>this.stripSeconds(i)),h(i=>(this.showToast("There was an error retrieving the schedule!","danger"),o(()=>i))))}))}getSchedules(){return this.getAppConfig().pipe(c(t=>{let e=new URL(`${t.api.host}${d}/`);return this.httpClient.get(e.toString()).pipe(f(s=>s.map(i=>this.stripSeconds(i))),h(s=>(this.showToast("There was an error getting the list of schedules!","danger"),o(()=>s))))}))}createSchedule(t){return this.getAppConfig().pipe(c(e=>{let s=this.addSeconds(t),i=new URL(`${e.api.host}${d}/`);return this.httpClient.post(i.toString(),s).pipe(l(()=>{this.showToast("Schedule was created sucessfully!","success")}),h(p=>{let u=p.status===409?p.error.detail:"There was an error creating the schedule!";return this.showToast(u,"danger"),o(()=>p)}))}))}updateSchedule(t,e){return this.getAppConfig().pipe(c(s=>{let i=this.addSeconds(e),p=new URL(`${s.api.host}${d}/${t}`);return this.httpClient.put(p.toString(),i).pipe(l(()=>{this.showToast("Schedule was updated sucessfully!","success")}),h(u=>{let C=u.status===409?u.error.detail:"There was an error updating the schedule!";return this.showToast(C,"danger"),o(()=>u)}))}))}deleteSchedule(t){return this.getAppConfig().pipe(c(e=>{let s=new URL(`${e.api.host}${d}/${t}`);return this.httpClient.delete(s.toString()).pipe(l(()=>{this.showToast("Schedule was deleted sucessfully!","success")}),h(i=>(this.showToast("There was an error deleting the schedule!","danger"),o(()=>i))))}))}stripSeconds(t){let e=t.start_time.match(/^([0-9]{1,2}):([0-9]{1,2})/);return m(g({},t),{start_time:e?`${e[1]}:${e[2]}`:t.start_time})}addSeconds(t){let e=t.start_time.match(/^([0-9]{1,2}):([0-9]{1,2})/);return m(g({},t),{start_time:e?`${e[1]}:${e[2]}:00`:t.start_time})}};a(r,"\u0275fac",(()=>{let t;return function(s){return(t||(t=$(r)))(s||r)}})()),a(r,"\u0275prov",w({token:r,factory:r.\u0275fac,providedIn:"root"}));let n=r;return n})();export{A as a,R as b};
